"use strict";(self.webpackChunkdex_2023=self.webpackChunkdex_2023||[]).push([[288],{8288:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(4165),a=n(5861),s=n(9439),c=n(2791),i=n(4029),d=n(9601),o=n(1736),l=n(6501),u=n(9830),x=n(6856),h=n(8308),p=n(6008),f=n(2069),v=n(4708),b=n(1846),m=n(1598),j=n(225),y=n(1434),k=n(3988),g=n(184),C=[{name:"Pay Cash",value:1},{name:"Get Crypto",value:2},{name:"Completed",value:3}];function w(e){e.walletAddress;var t=e.chainId,n=e.tokensGoerli,w=e.tokensMumbai,P=(0,h.mA)(),Z=(P.address,P.connector,P.isConnected),N=(0,c.useState)(),S=(0,s.Z)(N,2),I=S[0],R=S[1],T=(0,c.useState)([]),A=(0,s.Z)(T,2),F=A[0],U=A[1],M=(0,c.useState)([]),B=(0,s.Z)(M,2),L=B[0],X=B[1],D=(0,c.useState)([]),E=(0,s.Z)(D,2),G=E[0],O=E[1];console.log({dataClientGetCrypto:F}),console.log({dataClientPayCash:L}),console.log({dataClientCompletedTransacts:G});var H=(0,c.useState)(!1),K=(0,s.Z)(H,2),_=(K[0],K[1],(0,h.mx)()),W=(0,c.useState)(""),Y=(0,s.Z)(W,2),q=Y[0],z=Y[1],J=(0,c.useState)([]),Q=(0,s.Z)(J,2),V=Q[0],$=Q[1],ee=(0,c.useState)(.1),te=(0,s.Z)(ee,2),ne=(te[0],te[1]),re=(0,c.useState)(),ae=(0,s.Z)(re,2),se=ae[0],ce=ae[1],ie=(0,c.useState)(0),de=(0,s.Z)(ie,2),oe=(de[0],de[1]),le=(0,c.useState)(),ue=(0,s.Z)(le,2),xe=(ue[0],ue[1]),he=(0,c.useState)(null),pe=(0,s.Z)(he,2),fe=pe[0],ve=pe[1];console.log({activeTrade:fe});var be=(0,c.useState)(!1),me=(0,s.Z)(be,2),je=me[0],ye=me[1],ke=(0,c.useState)(!1),ge=(0,s.Z)(ke,2),Ce=ge[0],we=ge[1],Pe=(0,c.useState)(!1),Ze=(0,s.Z)(Pe,2),Ne=Ze[0],Se=Ze[1];function Ie(){return Ie=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,s,c,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new i.CH(q,V,_.data),e.t0=se,e.next="Pay Cash"===e.t0?4:"Get Crypto"===e.t0?15:"Completed"===e.t0?26:37;break;case 4:return console.info("fetching Pay Cash transactions"),e.next=7,t.getClientsHasNotPaidCash();case 7:return s=e.sent,e.next=10,Promise.all(s.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.formatUnits(t.CryptoPrice.toString(),"ether"),a=d.formatUnits(t.dexShare.toString(),"ether"),s={txId:t.txId.toNumber(),token:t.token,client:t.client,bank:t.bank,CryptoPrice:n,tokenDecimals:t.tokenDecimals,dexShare:a,endBlock:t.endBlock,completed:t.completed,clientPaidCash:t.clientPaidCash,bankReceivedCash:t.bankReceivedCash,bankPaidCrypto:t.bankPaidCrypto,clientReceivedCrypto:t.clientReceivedCrypto,started:t.started},e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return n=e.sent,c=n.filter((function(e){return!1===e.clientPaidCash&&!1===e.bankPaidCrypto})),X(c),we(!0),e.abrupt("break",38);case 15:return console.info("fetching Get Crypto transactions"),e.next=18,t.getClientsHasNotReceivedCrypto();case 18:return s=e.sent,e.next=21,Promise.all(s.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.formatUnits(t.CryptoPrice.toString(),"ether"),a=d.formatUnits(t.dexShare.toString(),"ether"),s={txId:t.txId.toNumber(),token:t.token,client:t.client,bank:t.bank,CryptoPrice:n,tokenDecimals:t.tokenDecimals,dexShare:a,endBlock:t.endBlock,completed:t.completed,clientPaidCash:t.clientPaidCash,bankReceivedCash:t.bankReceivedCash,bankPaidCrypto:t.bankPaidCrypto,clientReceivedCrypto:t.clientReceivedCrypto,started:t.started},e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 21:return n=e.sent,o=n.filter((function(e){return!0===e.clientPaidCash&&!1===e.bankPaidCrypto})),U(o),ye(!0),e.abrupt("break",38);case 26:return console.info("fetching Completed transactions"),e.next=29,t.getClientsCompletedTransacts();case 29:return s=e.sent,e.next=32,Promise.all(s.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.formatUnits(t.CryptoPrice.toString(),"ether"),a=d.formatUnits(t.dexShare.toString(),"ether"),s={txId:t.txId.toNumber(),token:t.token,client:t.client,bank:t.bank,CryptoPrice:n,tokenDecimals:t.tokenDecimals,dexShare:a,endBlock:t.endBlock,completed:t.completed,clientPaidCash:t.clientPaidCash,bankReceivedCash:t.bankReceivedCash,bankPaidCrypto:t.bankPaidCrypto,clientReceivedCrypto:t.clientReceivedCrypto,started:t.started},e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 32:return n=e.sent,l=n.filter((function(e){return!0===e.completed})),O(l),Se(!0),e.abrupt("break",38);case 37:console.warn("Please choose a minting type!");case 38:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Re(){return(Re=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===fe||void 0===fe?void 0:fe.txId)>0)){e.next=15;break}return e.prev=1,t=new i.CH(q,V,_.data),e.next=5,t.clientPayCash(null===fe||void 0===fe?void 0:fe.txId);case 5:return n=e.sent,e.next=8,n.wait();case 8:alert("Transaction completed. You have Paid for the Order in Cash!"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Upload Error"+e.t0),alert("Upload Error"+e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return(0,c.useEffect)((function(){Ce&&(ye(!1),Se(!1)),je&&(we(!1),Se(!1)),Ne&&Se(!1)}),[Ce,je,Ne]),(0,c.useEffect)((function(){t&&function(){try{switch(t){case 5:z(j.L),$(j.M),oe(18),xe("0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc"),ne(.1),R(n);break;case 80001:z(k.L),$(k.M),oe(18),xe("0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0"),ne(.1),R(w);break;case 97:z(y.L),$(y.M),oe(18),xe("0x4fabb145d64652a948d72533023f6e7a623c7c53"),ne(.1),R(n);break;case 1:z(p.L),$(p.M),oe(18),xe("0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc"),ne(.1),R(n);break;case 137:z(f.L),$(f.M),oe(18),xe("0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0"),ne(.1),R(w);break;case 56:z(v.L),$(v.M),oe(18),xe("0x4fabb145d64652a948d72533023f6e7a623c7c53"),ne(.1),R(n);break;case 10:z(m.L),$(m.M),oe(18),xe("0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc"),ne(.1),R(n);break;case 42161:z(b.L),$(b.M),oe(18),xe("0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc"),ne(.1),R(n);break;default:console.warn("Please choose a token!")}}catch(e){console.log(e)}}()}),[t]),(0,c.useEffect)((function(){t&&void 0!==se&&function(){Ie.apply(this,arguments)}(),console.log("activeTransaction type",se),!t&&console.warn("Connect The Wallet")}),[se]),(0,g.jsx)(g.Fragment,{children:Z?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,g.jsx)("h5",{className:"text-gray-500",children:void 0===se?"Select Transaction Type":"Transaction Type:"}),(0,g.jsx)("div",{className:"my-3 flex flex-row gap-2 start",onChange:function(e){return ce(e.target.value)},children:C.map((function(e){return(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"radio",id:"tab",name:"tab",value:e.name,className:"peer sr-only"}),(0,g.jsx)("span",{className:"px-2 py-1 rounded-md cursor-pointer ".concat(e.name===se?"bg-sky-600 text-gray-200":"bg-black/50 text-gray-200/30"," border border-transparent peer-hover:border-gray-200/30 peer-checked:bg-sky-600 peer-checked:hover:border-transparent peer-checked:text-gray-200"),children:e.name})]},e.value)}))})]}),(0,g.jsxs)("div",{className:"overflow-x-auto relative",children:[se===C[0].name&&(0,g.jsxs)(o.X2,{children:[(0,g.jsx)(o.XK,{headArray:["Tx Id","bank","bank addr","amount","currency","action"]}),(0,g.jsx)(o.yO,{children:L.length>0?L.map((function(e,t){var n,r,a;return(0,g.jsx)("tr",{className:"border-b border-gray-700 bg-transparent even:bg-gray-700/30 hover:bg-gray-400/20",onClick:function(){ve(e)},children:(0,g.jsx)(g.Fragment,{children:(null===e||void 0===e?void 0:e.txId)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("th",{scope:"row",className:"py-4 px-6 font-medium whitespace-nowrap text-white",children:[null===e||void 0===e?void 0:e.txId," "]}),console.info(e),(0,g.jsx)("td",{children:null===(n=l.Z.find((function(t){return e.bank===t.address})))||void 0===n?void 0:n.name}),(0,g.jsx)("td",{children:(0,u.Z)(null===e||void 0===e?void 0:e.bank)}),(0,g.jsxs)("td",{children:[(0,g.jsx)("span",{children:null===e||void 0===e?void 0:e.CryptoPrice})," ",(0,g.jsx)("span",{children:null===(r=I.find((function(t){return(null===e||void 0===e?void 0:e.token)===t.testAddress})))||void 0===r?void 0:r.symbol})]}),(0,g.jsx)("td",{children:(0,g.jsx)("img",{src:null===(a=I.find((function(t){return(null===e||void 0===e?void 0:e.token)===t.testAddress})))||void 0===a?void 0:a.logoURI,alt:"",className:"w-[25px] h-[25px]"})}),(0,g.jsx)("td",{children:!0===(null===e||void 0===e?void 0:e.clientPaidCash)?(0,g.jsx)("button",{type:"button",children:"Paid"}):(0,g.jsx)("button",{type:"button",className:"bg-red-600 text-white cursor-pointer px-2 py-1",onClick:function(){!function(){Re.apply(this,arguments)}()},children:"Mark as cash paid"})})]}):null})},t)})):Ce?L.length<=0&&(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:"No active transactions"}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{})]}):(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:"Fetching transaction data"}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{})]})})]}),se===C[1].name&&(0,g.jsxs)(o.X2,{children:[(0,g.jsx)(o.XK,{headArray:["Tx Id","bank","bank addr","amount","currency","action"]}),(0,g.jsx)(o.yO,{children:F.length>0?F.map((function(e,t){var n,r,a;return(0,g.jsx)("tr",{className:"border-b border-gray-700 bg-transparent even:bg-gray-700/30 hover:bg-gray-400/20",onClick:function(){ve(e)},children:(0,g.jsx)(g.Fragment,{children:(null===e||void 0===e?void 0:e.txId)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("th",{scope:"row",className:"py-4 px-6 font-medium whitespace-nowrap text-white",children:[null===e||void 0===e?void 0:e.txId," "]}),console.info(e),(0,g.jsx)("td",{children:null===(n=l.Z.find((function(t){return e.bank===t.address})))||void 0===n?void 0:n.name}),(0,g.jsx)("td",{children:(0,u.Z)(null===e||void 0===e?void 0:e.bank)}),(0,g.jsxs)("td",{children:[(0,g.jsx)("span",{children:null===e||void 0===e?void 0:e.CryptoPrice})," ",(0,g.jsx)("span",{children:null===(r=I.find((function(t){return(null===e||void 0===e?void 0:e.token)===t.testAddress})))||void 0===r?void 0:r.symbol})]}),(0,g.jsx)("td",{children:(0,g.jsx)("img",{src:null===(a=I.find((function(t){return(null===e||void 0===e?void 0:e.token)===t.testAddress})))||void 0===a?void 0:a.logoURI,alt:"",className:"w-[25px] h-[25px]"})}),(0,g.jsx)("td",{children:e.bankPaidCrypto?(0,g.jsx)(x.smy,{}):(0,g.jsx)(x.vB0,{})})]}):null})},t)})):je?F.length<=0&&(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:"No active transactions"}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{})]}):(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:"Fetching transaction data"}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{})]})})]}),se===C[2].name&&(0,g.jsxs)(o.X2,{children:[(0,g.jsx)(o.XK,{headArray:["Tx Id","client","amount","currency","completed"]}),(0,g.jsx)(o.yO,{children:G.length>0?G.map((function(e,t){var n,r;return(0,g.jsx)("tr",{className:"border-b border-gray-700 bg-transparent even:bg-gray-700/30 hover:bg-gray-400/20",onClick:function(){ve(e)},children:(0,g.jsx)(g.Fragment,{children:(null===e||void 0===e?void 0:e.txId)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("th",{scope:"row",className:"py-4 px-6 font-medium whitespace-nowrap text-white",children:[null===e||void 0===e?void 0:e.txId," "]}),console.info(e),(0,g.jsx)("td",{children:(0,u.Z)(null===e||void 0===e?void 0:e.client)}),(0,g.jsxs)("td",{children:[(0,g.jsx)("span",{children:null===e||void 0===e?void 0:e.CryptoPrice})," ",(0,g.jsx)("span",{children:null===(n=I.find((function(t){return(null===e||void 0===e?void 0:e.token)===t.testAddress})))||void 0===n?void 0:n.symbol})]}),(0,g.jsx)("td",{children:(0,g.jsx)("img",{src:null===(r=I.find((function(t){return(null===e||void 0===e?void 0:e.token)===t.testAddress})))||void 0===r?void 0:r.logoURI,alt:"",className:"w-[25px] h-[25px]"})}),(0,g.jsx)("td",{children:e.completed?(0,g.jsx)(x.smy,{}):(0,g.jsx)(x.vB0,{})})]}):null})},t)})):Ne?G.length<=0&&(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:"No transaction data"}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{})]}):(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{children:"Fetching transaction data"}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{})]})})]})]})]}):null})}},1736:function(e,t,n){n.d(t,{X2:function(){return a},XK:function(){return s},yO:function(){return c}});n(2791);var r=n(184),a=function(e){var t=e.children;return(0,r.jsx)("table",{className:" w-full text-gray-400",children:t})},s=function(e){var t=e.headArray;return(0,r.jsx)("thead",{className:"text-xs bg-gray-700 text-gray-400 uppercase",children:(0,r.jsx)("tr",{children:t.map((function(e,t){return(0,r.jsx)("th",{scope:"col",className:"py-3 px-6",children:e},t)}))})})},c=function(e){var t=e.children;return(0,r.jsx)("tbody",{className:"text-center",children:t})}}}]);
//# sourceMappingURL=288.5acf23d9.chunk.js.map